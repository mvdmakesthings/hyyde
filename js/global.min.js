!function(t){"use strict";var e="unveil",i="src",n="placeholder",o=t(),a=!1;t.fn.unveil=function(r){function d(t){t.addClass(e+"-loading")}function l(t){t.removeClass(e+"-"+n+" "+e+"-loading"),t.addClass(e+"-loaded")}function s(){var e=t(this);if(!e.is(":hidden")){var i=h.scrollTop(),n=i+g,o=p.container[0]!==h[0]?i-p.container.offset().top:0,a=e.offset().top+o,r=a+e.height();return r>=i-p.offset&&a<=n+p.offset}}function u(){g=h.height(),f()}function c(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){t(),e=!1},p.throttle))}}function f(){p.debug;var t=o.filter(s);t.trigger(e+"."+e),o=o.not(t),t.length&&p.debug}r=r||{};var h=t(window),g=h.height(),A={placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",offset:0,breakpoints:[],throttle:250,debug:!1,container:h,retina:window.devicePixelRatio>1,loading:null,loaded:null},p=t.extend(!0,{},A,r);return p.debug,p.breakpoints.sort(function(t,e){return e.minWidth-t.minWidth}),this.one(e+"."+e,function(){var e,n,o,a,r=t(this),s=h.width(),u=i;for(e=0;e<p.breakpoints.length;e++){var c=p.breakpoints[e].attribute.replace(/^data-/,"");if(s>=p.breakpoints[e].minWidth&&r.data(c)){u=c;break}}o=a=r.data(u),o&&-1!==o.indexOf("|")&&(a=o.split("|")[1],o=o.split("|")[0]),o&&(n=p.retina&&a?a:o,p.debug,d(r),"function"==typeof p.loading&&p.loading.call(this),r.trigger("loading.unveil"),r.one("load",function(){l(r),"function"==typeof p.loaded&&p.loaded.call(this),r.trigger("loaded.unveil"),f()}),"IMG"===this.nodeName?r.prop(i,n):t("<img/>").attr(i,n).one("load",function(){t(this).remove(),r.css("backgroundImage","url("+n+")").trigger("load")}),this.complete&&l(r))}),this.each(function(){var a=t(this),r=a.data(i+"-"+n)||p.placeholder;o=t(o).add(this),a.data(e)||(a.data(e,!0),a.data(i)||a.data(i,a.prop(i)),a.one("load",function(){var i=t(this);i.hasClass(e+"-loaded")||(i.addClass(e+"-"+n),f())}).prop(i,"").prop(i,r))}),p.debug,a||(p.container.on({"resize.unveil":c(u),"scroll.unveil":c(f),"lookup.unveil":f}),a=!0),setTimeout(f,0),this}}(window.jQuery);